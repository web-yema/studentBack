(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-626d6172"],{1492:function(e,r,t){},"5ad4":function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"modify"},[t("Background"),e._v(" "),t("div",{staticClass:"modify-password"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[t("div",{staticClass:"change-password"},[e._v("修改密码")]),e._v(" "),t("el-form-item",{attrs:{label:"新密码",prop:"pass"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.pass,callback:function(r){e.$set(e.ruleForm,"pass",r)},expression:"ruleForm.pass"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(r){e.$set(e.ruleForm,"checkPass",r)},expression:"ruleForm.checkPass"}})],1),e._v(" "),t("el-form-item",[t("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("返 回")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("确定")])],1)],1)],1)],1)},n=[],o=(t("5ab2"),t("6d57"),t("e10e"),t("f010")),a=(t("63ff"),t("a8f6")),c=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("vue-particles",{staticClass:"lizi",attrs:{color:"#fff",particleOpacity:.7,particlesNumber:150,shapeType:"star",particleSize:4,linesColor:"#fff",linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:150,moveSpeed:6,hoverEffect:!0,hoverMode:"grab",clickEffect:!0,clickMode:"push"}})},i=[],u={name:"background"},l=u,p=(t("6ccf"),t("4e82")),f=Object(p["a"])(l,c,i,!1,null,null,null),m=f.exports,d=t("4ec3"),b=t("52c1"),h=t("5f87");function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,s)}return t}function g(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?v(Object(t),!0).forEach((function(r){Object(o["a"])(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var w={name:"Changepassword",components:{Background:m},data:function(){var e=this,r=function(r,t,s){var n=/(?=.*?[a-zA-Z])(?=.*?[0-9])[a-zA-Z0-9]{6,16}$/;""===t?s(new Error("请输入密码")):n.test(t)?(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),s()):s(new Error("格式为：数字+英文且不能小于6位不能大于16位"))},t=function(r,t,s){""===t?s(new Error("请再次输入密码")):t!==e.ruleForm.pass?s(new Error("两次输入密码不一致!")):s()};return{ruleForm:{pass:"",checkPass:""},rules:{pass:[{validator:r,trigger:"blur"}],checkPass:[{validator:t,trigger:"blur"}]},dialogFormVisible:!0,dialogImageUrl:"",dialogVisible:!1}},mounted:function(){Object(h["b"])()},methods:{errorHandler:function(){return!0},submitForm:function(e){var r=this;this.$refs[e].validate(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return e.next=3,Object(d["n"])({_id:r.id,newpassword:r.ruleForm.pass});case 3:s=e.sent,n=s.data,201===n.code?r.$message.error(n.msg):(r.$message({message:n.msg+",2秒后跳转到登录页,重新登录！",type:"success",duration:3e3}),setTimeout((function(){r.logout()}),2e3)),e.next=9;break;case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}())},resetForm:function(e){this.$refs[e].resetFields(),this.logout()},logout:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("user/logout");case 2:this.$router.push("/login");case 3:case"end":return e.stop()}}),e,this)})));function r(){return e.apply(this,arguments)}return r}()},computed:g({},Object(b["b"])(["id"]))},O=w,k=(t("bda9"),Object(p["a"])(O,s,n,!1,null,null,null));r["default"]=k.exports},"6ccf":function(e,r,t){"use strict";var s=t("b0ad"),n=t.n(s);n.a},b0ad:function(e,r,t){},bda9:function(e,r,t){"use strict";var s=t("1492"),n=t.n(s);n.a}}]);